(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,a){e.exports=a(398)},198:function(e,t,a){},255:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),s=a.n(l),o=(a(194),a(196),a(198),a(9)),c=a(10),i=a(12),m=a(11),u=a(13),d=a(5),p=a(2),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.onSubmit=a.onSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"onSubmit",value:function(e){console.log("function?"),console.log(this.props),console.log(this.props.reserveItem),alert("Reserved Successful!"),e.preventDefault(),this.toggle(),this.props.reserveItem(this.props.item.id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{block:!0,color:"primary",className:"item-button",onClick:this.toggle},"Reserve"),r.a.createElement(p.p,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(p.s,{toggle:this.toggle},"Reserve Item"),r.a.createElement(p.q,null,'You are about to reserve the item "',this.props.item.name,'" from ',this.props.item.seller,".",r.a.createElement("br",null),"Are you sure?",r.a.createElement("br",null)," ",r.a.createElement("br",null),"You will be able to see the seller's contact information and continue with this deal under the \"",r.a.createElement("span",{className:"fa fa-exchange fa-lg"}),' Ongoing" section in the sidebar.'),r.a.createElement(p.r,null,r.a.createElement(p.a,{color:"primary",onClick:this.onSubmit},"Confirm")," ",r.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{block:!0,color:"danger",className:"item-button",onClick:this.toggle},"Save"),r.a.createElement(p.p,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(p.s,{toggle:this.toggle},"Save Item"),r.a.createElement(p.q,null,'You are about to save the item "',this.props.item.name,'" from ',this.props.item.seller,".",r.a.createElement("br",null),'You will be able to view this item under "',r.a.createElement("span",{className:"fa fa-heart-o fa-lg"}),' Saved Items" in the sidebar.',r.a.createElement("br",null)," ",r.a.createElement("br",null),"Saving will not reserve this item for you."),r.a.createElement(p.r,null,r.a.createElement(p.a,{color:"primary",onClick:this.toggle},"Confirm")," ",r.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(r.a.Component),f=a(175),E=a.n(f);function b(e){var t=e.item,a=e.reserveItem;return r.a.createElement(p.b,null,r.a.createElement(p.e,{top:!0,width:"100%",className:"card-img-top img-fluid",src:t.picture,alt:t.name}),r.a.createElement(p.c,null,r.a.createElement(p.h,{className:"card-title"},r.a.createElement("span",{style:{width:"27.3vw","word-wrap":"break-word"}}," ",t.name," "),r.a.createElement("span",null," $",t.price)),r.a.createElement(p.f,null,t.seller,r.a.createElement("br",null),r.a.createElement(E.a,{date:t.time,format:"MMM D YYYY HH:MM"})),r.a.createElement(p.g,{style:{width:"27.3vw","word-wrap":"break-word"}},t.detail),r.a.createElement(p.y,null,r.a.createElement(p.i,{xl:{size:4,offset:1}},r.a.createElement(h,{item:t,reserveItem:a})),r.a.createElement(p.i,{xl:{size:4,offset:2}},r.a.createElement(g,{item:t})))))}var v=function(e){var t=e.sellItems.map(function(t){return r.a.createElement("div",{key:t.id,className:"row align-items-start"},r.a.createElement("div",{className:"col-12 col-md m-1"},r.a.createElement(b,{item:t,reserveItem:e.reserveItem})))});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row start-of-home"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",null,"Items On Sale"),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement(p.d,null,t)))},y=a(23),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.n,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-header"},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("h1",null,"Hello ",this.props.username,",")))))}}]),t}(n.Component),I=Object(y.connect)(function(e){return{username:e.users.username,isLoggedin:e.users.isLoggedIn}},{})(O),j=a(16),w=a(91),N=a(127),k=a.n(N);k.a.initializeApp({apiKey:"AIzaSyDpr5SspydURpwNzpjr2F9kmC1WLwQaH9w",authDomain:"jerrylzylzy.firebaseapp.com",databaseURL:"https://jerrylzylzy.firebaseio.com",projectId:"jerrylzylzy",storageBucket:"jerrylzylzy.appspot.com",messagingSenderId:"1089192741461"});var S=k.a.database(),C=S.ref("bruinmart/items/"),L=S.ref("bruinmart/users/"),P=function(e){return{type:"RESERVE_ITEM",payload:e}},D=function(e){return{type:"ADD_ITEMS",payload:e}},F=function(){return{type:"ITEMS_LOADING"}},M=function(e){return{type:"ITEMS_FAILED",payload:e}},x=function(e){return{type:"LOG_IN_FAILED",payload:e}},R=function(e,t,a){return{type:"LOG_IN",username:e,password:t,userInfo:a}},U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,username:"",password:"",email:"",phone:""},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.onChange=a.onChange.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value)),e.preventDefault()}},{key:"onClick",value:function(){this.toggle(),console.log("func"),this.props.StoreUserInfo(this.state.username,this.state.password,this.state.email,this.state.phone)}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{block:!0,className:"item-button",onClick:this.toggle,color:"secondary"},"Register"),r.a.createElement(p.p,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(p.s,{toggle:this.toggle},"Register"),r.a.createElement(p.q,null,r.a.createElement(p.j,{onSubmit:this.handleLogin},r.a.createElement(p.k,null,r.a.createElement(p.o,{htmlFor:"username"},"Username"),r.a.createElement(p.m,{type:"text",id:"username",name:"username",onChange:this.onChange,value:this.state.username})),r.a.createElement(p.k,null,r.a.createElement(p.o,{htmlFor:"password"},"Password"),r.a.createElement(p.m,{type:"password",id:"password",name:"password",onChange:this.onChange,value:this.state.password})),r.a.createElement(p.k,null,r.a.createElement(p.o,{htmlFor:"email"},"Email"),r.a.createElement(p.m,{type:"email",id:"email",name:"email",onChange:this.onChange,value:this.state.email})),r.a.createElement(p.k,null,r.a.createElement(p.o,{htmlFor:"tel"},"Contact number"),r.a.createElement(p.m,{type:"tel",id:"tel",name:"tel",innerRef:function(t){return e.phone=t}})),r.a.createElement(p.a,{type:"submit",value:"submit",onClick:function(){return e.onClick()},color:"primary"},"Register")))))}}]),t}(r.a.Component),_=Object(y.connect)(function(e){return{username:e.users.username,password:e.users.password,isLoggedin:e.users.isLoggedIn}},{StoreUserInfo:function(e,t,a,n){return console.log("store"),{type:"SIGN_UP",username:e,password:t}}})(U),z=function(e){return e&&e.length},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.onSubmit=a.onSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){this.props.fetchUserInfo(e.username,e.password)}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{style:{background:"transparent"},onClick:this.toggle},r.a.createElement("span",{className:"fa fa-sign-in"})," Login"),r.a.createElement(p.p,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(p.s,{toggle:this.toggle},"Login"),r.a.createElement(p.q,null,r.a.createElement(j.Form,{model:"login",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".username",md:2},"Username"),r.a.createElement(p.i,{md:10},r.a.createElement(j.Control.text,{model:".username",id:"username",name:"username",placeholder:"Username",className:"form-control",validators:{required:z}}),r.a.createElement(j.Errors,{className:"text-danger",model:".username",show:"touched",messages:{required:"Required",error:"Username doesn't exist!"}}))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".password",md:2},"Last Name"),r.a.createElement(p.i,{md:10},r.a.createElement(j.Control.password,{model:".password",id:"password",name:"password",placeholder:"Password",className:"form-control",validators:{required:z}}),r.a.createElement(j.Errors,{className:"text-danger",model:".password",show:"touched",messages:{required:"Required"}}))),r.a.createElement(p.y,null,r.a.createElement(p.i,{xl:{size:3,offset:1}},r.a.createElement(_,null)),r.a.createElement(p.i,{xl:{size:3,offset:4}},r.a.createElement(p.a,{block:!0,className:"item-button",value:"submit",color:"primary"},"Login")))))))}}]),t}(n.Component),A=(a(255),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.filterResults(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"component-search-input"},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Search Here",style:{color:"white"},onChange:this.handleChange})))}}]),t}(n.Component)),q=a(188),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onPreviewDrop=function(e){var t=new FileReader;t.readAsDataURL(e[0]),t.onloadend=function(){var n=t.result;e[0].preview=n,a.handleCheck(e[0])?alert("Please do not upload the same image twice!"):a.setState({files:a.state.files.concat(e[0])})}},a.deleteFile=function(e){a.setState({files:a.state.files.filter(function(t){return t!==e})})},a.state={files:[]},a.deleteFile=a.deleteFile.bind(Object(d.a)(Object(d.a)(a))),a.onPreviewDrop=a.onPreviewDrop.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleCheck",value:function(e){return this.state.files.some(function(t){return e.name===t.name})}},{key:"render",value:function(){var e=this,t={display:"inline",width:100,height:100};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"dropzone",accept:"image/*",onDrop:this.onPreviewDrop},r.a.createElement("div",{className:"upload-box"},"Drag your image here or click the box to browse your local files.")),this.state.files.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("h4",null,"Uploaded Pictures"),this.state.files.map(function(a,n){return r.a.createElement("div",{key:n},r.a.createElement("img",{alt:a.name,key:a.preview,src:a.preview,style:t}),a.name," ",r.a.createElement(p.a,{value:"delete",onClick:function(){return e.deleteFile(a)}},"delete"))}),console.log(this.state.files)))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1},a.toggleModal=a.toggleModal.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggleModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"handleSubmit",value:function(e){alert("Post Successful!"),this.props.resetNewPostForm(),this.props.postItem({name:e.itemName,price:parseInt(e.itemPrice),picture:"https://s7d4.scene7.com/is/image/roomandboard/?layer=0&size=498,400&scl=1&src=964101_wood_W&layer=comp&$prodzoom0$",reserved:!1,seller:"Joe Bruin",time:(new Date).toISOString(),detail:e.itemDes,username:"jerry"}),this.toggleModal()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{style:{background:"transparent"},onClick:this.toggleModal},r.a.createElement("span",{className:"fa fa-plus fa-lg"})),r.a.createElement(p.p,{className:"modal-lg",isOpen:this.state.modal,toggle:this.toggleModal},r.a.createElement(p.s,{toggle:this.toggleModal},"New Post"),r.a.createElement(p.q,null,r.a.createElement(j.Form,{model:"newPost",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".itemName",md:2},r.a.createElement("b",null,"Name")),r.a.createElement(p.i,{md:9},r.a.createElement(j.Control.text,{model:".itemName",id:"itemName",name:"itemName",placeholder:"Enter the name of the item you want to sell",className:"form-control"}))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".itemPrice",md:2},r.a.createElement("b",null,"Price")),r.a.createElement(p.i,{md:4},r.a.createElement(j.Control.text,{model:".itemPrice",id:"itemPrice",name:"itemPrice",placeholder:"Enter your price in US dollars",className:"form-control"}))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".itemDes",md:2},r.a.createElement("b",null,"Item Description")),r.a.createElement(p.i,{md:9},r.a.createElement(j.Control.textarea,{model:".itemDes",id:"itemDes",name:"itemDes",placeholder:"Enter a few lines to describe your item and outline anything potential buyers may need to know",className:"form-control",rows:"4"}))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.o,{htmlFor:".pictures",md:2},r.a.createElement("b",null,"Pictures")),r.a.createElement(p.i,{md:9},r.a.createElement(p.l,{color:"muted"},"Upload a picture for your item here."),r.a.createElement(G,{name:"itemPic",id:"itemPic",className:"form-control"}))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.i,null,r.a.createElement("div",{className:"form-check"},r.a.createElement(p.o,{check:!0,md:{size:9,offset:2}},r.a.createElement(j.Control.checkbox,{model:".agreeTerms",name:"agreeTerms",className:"form-check-input"})," ","I understand that my information will only be provided to any potential buyers after they have reserved my item.")))),r.a.createElement(p.y,{className:"form-group"},r.a.createElement(p.i,{md:{size:3,offset:2}},r.a.createElement(p.a,{block:!0,type:"submit",value:"submit",color:"primary"},"Post")),r.a.createElement(p.i,{md:{size:3,offset:3}},r.a.createElement(p.a,{block:!0,color:"secondary",onClick:this.toggleModal},"Cancel")))))))}}]),t}(r.a.Component);var B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isModalOpen:!1},a.toggleModal=a.toggleModal.bind(Object(d.a)(Object(d.a)(a))),a.toggleSideNav=a.props.toggleSideNav.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.v,{dark:!0,fixed:"top"},r.a.createElement("div",{className:"container"},r.a.createElement(p.x,{onClick:this.toggleSideNav}),r.a.createElement(p.t,{className:"col-8",navbar:!0},r.a.createElement(p.u,null,r.a.createElement(A,{filterResults:this.props.filterResults,fetchItems:this.props.fetchItems}))),r.a.createElement(p.t,{className:"col-2",navbar:!0},r.a.createElement(p.u,null,(e=this.props.isLoggedIn,t=this.props.resetNewPostForm,a=this.props.postItem,n=this.props.fetchUserInfo,l=this.props.loginError,e?r.a.createElement(Y,{resetNewPostForm:t,postItem:a}):r.a.createElement(T,{fetchUserInfo:n,loginError:l})))))));var e,t,a,n,l}}]),t}(n.Component),H=a(179),W=a(403),$=a(95);var J=function(e){return r.a.createElement(H.slide,e,r.a.createElement(p.t,{navbar:!0,onClick:e.toggleSideNav},r.a.createElement(p.w,{className:"mr-auto col-2 col-sm-2"},r.a.createElement($.a,{size:50,src:"assets/images/joe_bruin.jpg",round:!0})),(t=e.isLoggedIn,a=e.users.username,n=e.fetchUserInfo,l=e.loginError,t?r.a.createElement("div",null,r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/profile"},r.a.createElement("h4",null,a))),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/profile"},r.a.createElement("span",{className:"fa fa-user fa-lg"})," My Profile")),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/posts"},r.a.createElement("span",{className:"fa fa-stack-exchange fa-lg"})," My Posts")),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/saved"},r.a.createElement("span",{className:"fa fa-heart-o fa-lg"})," Saved Items")),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/ongoing"},r.a.createElement("span",{className:"fa fa-exchange fa-lg"})," Ongoing")),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/sold"},r.a.createElement("span",{className:"fa fa-shopping-bag fa-lg"})," Sold")),r.a.createElement(p.u,null,r.a.createElement(W.a,{className:"nav-link",to:"/settings"},r.a.createElement("span",{className:"fa fa-cog fa-lg"})," Settings"))):r.a.createElement("div",null,r.a.createElement(p.u,null,r.a.createElement("h4",null,"Please Log in")),r.a.createElement(p.u,null,r.a.createElement(T,{fetchUserInfo:n,loginError:l}))))));var t,a,n,l},V=a(184),K=a.n(V),Q=a(304),X=a.n(Q),Z=a(183),ee=a.n(Z),te=a(182),ae=a.n(te),ne=a(54),re=a.n(ne),le={background:"white",padding:"0px",margin:"0px"};function se(e){var t=e.item,a="Not Reserved";1==t.reserved&&(a="Reserved");var n=t.time;return n=n.slice(0,10),r.a.createElement(X.a,{alignItems:"flex-start",style:{height:200}},r.a.createElement(ae.a,null,r.a.createElement($.a,{alt:"Remy Sharp",src:t.picture,size:"150"})),r.a.createElement(ee.a,{primary:r.a.createElement(re.a,{component:"span",color:"textPrimary",variant:"display1"},t.name),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{component:"span",color:"textPrimary",variant:"title"},a),r.a.createElement(re.a,{component:"span",color:"textPrimary",variant:"body2"},n),r.a.createElement(re.a,{component:"span",color:"textPrimary",variant:"body2"},"Price: $",t.price),"Description: ",t.detail)}))}var oe=function(e){if(!e.isLoggedIn)return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",null,"Please Login First"),r.a.createElement("hr",null)));var t=e.sellItems.map(function(t){var a=[];for(var n in e.posts)e.posts.hasOwnProperty(n)&&a.push(e.posts[n]);return a.indexOf(t.id)<0?r.a.createElement("div",null):(console.log(t.id),r.a.createElement("div",{key:t.id,className:"row align-items-start"},r.a.createElement("div",{className:"col-12 col-md m-1"},r.a.createElement(se,{item:t}))))});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",null,"My Posts"),r.a.createElement("hr",null)),r.a.createElement("div",{style:le},r.a.createElement(K.a,null,t)))},ce=a(404),ie=a(303),me=a(401),ue=a(405),de=(a(394),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={loggedIn:!1,isSideNavOpen:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.toggleSideNav=a.toggleSideNav.bind(Object(d.a)(Object(d.a)(a))),a.handleStateChange=a.handleStateChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchItems()}},{key:"handleStateChange",value:function(e){this.setState({isSideNavOpen:e.isOpen})}},{key:"toggleSideNav",value:function(){this.setState({isSideNavOpen:!this.state.isSideNavOpen})}},{key:"handleSubmit",value:function(e){this.setState({loggedIn:!0}),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"App"},r.a.createElement(J,{noOverlay:!0,users:this.props.users,pageWrapId:"page-wrapper",outerContainerId:"App",isOpen:this.state.isSideNavOpen,onStateChange:function(t){return e.handleStateChange(t)},toggleSideNav:this.toggleSideNav,isLoggedIn:this.props.users.isLoggedIn,fetchUserInfo:this.props.fetchUserInfo}),r.a.createElement("div",{id:"page-wrapper"},r.a.createElement(B,{filterResults:this.props.filterResults,fetchItems:this.props.fetchItems,toggleSideNav:this.toggleSideNav,resetNewPostForm:this.props.resetNewPostForm,postItem:this.props.postItem,isLoggedIn:this.props.users.isLoggedIn,fetchUserInfo:this.props.fetchUserInfo,loginError:this.props.loginError}),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{exact:!0,path:"/",component:function(){return r.a.createElement(v,{sellItems:e.props.sellItems.sellItems,reserveItem:e.props.reserveItem})}}),r.a.createElement(ie.a,{path:"/profile",component:I}),r.a.createElement(ie.a,{path:"/posts",component:function(){return r.a.createElement(oe,{sellItems:e.props.sellItems.sellItems,posts:e.props.users.userInfo.posts,isLoggedIn:e.props.users.isLoggedIn})}}),r.a.createElement(me.a,{to:"/"}))))}}]),t}(n.Component)),pe=Object(ue.a)(Object(y.connect)(function(e){return{sellItems:e.sellItems,users:e.users,loginError:e.users.error}},function(e){return{postItem:function(t){return e(function(e){return function(t){return C.push(e).then(function(a){e.id=a.key,t(function(e){return{type:"ADD_ITEM",payload:e}}(e)),L.child(e.username+"/posts/").push(e.id),t({type:"ADD_ITEM_USER",payload:e.id})})}}(t))},filterResults:function(t){e(function(e){return{type:"FILTER",payload:{searchText:e,maxResults:arguments.length>1&&void 0!==arguments[1]?arguments[1]:20}}}(t))},fetchItems:function(){e(function(e){return e(F(!0)),C.once("value").then(function(t){var a=t.val();if(console.log(a),null===a)throw Error("Fetch failed.");var n=[];for(var r in a)if(a.hasOwnProperty(r)){var l=a[r];l.id=r,n.push(l)}e(D(n))}).catch(function(t){return e(M(t.message))})})},resetNewPostForm:function(){e(j.actions.reset("newPost"))},reserveItem:function(t){e(function(e){return function(t){return C.child("/"+e).update({reserved:!0}).then(function(a){if(a)throw a;console.log("error checking"),t(P(e))}).catch(function(e){return t(M(e.message))})}}(t))},resetLoginForm:function(){e(j.actions.reset("login"))},fetchUserInfo:function(t,a,n){e(function(e,t){return function(a){return L.child(e).once("value").then(function(n){var r=n.val();if(null===r)throw alert("Username does not exist."),Error("Username does not exist.");if(r.password!==t)throw alert("Password is wrong!"),Error("Password is wrong!");var l=[];for(var s in r.posts)r.posts.hasOwnProperty(s)&&l.push(r.posts[s]);r.posts=l,a(R(e,t,r))}).catch(function(e){a(x(e.message))})}}(t,a))}}})(de)),he=(a(396),a(402)),ge=a(19),fe=a(32),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,sellItems:[],err:null,origSellItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESERVE_ITEM":for(var a=t.payload,n=0;n<e.sellItems.length;n++)if(e.sellItems[n].id===a){e.sellItems[n].reserved=!0,console.log(e.sellItems[n].reserved);break}return e;case"FILTER":var r=t.payload.searchText;return Object(ge.a)({},e,{isLoading:!1,err:null,sellItems:e.origSellItems.filter(function(e){return!!e.name.toLowerCase().includes(r.toLowerCase())||!(!e.keywords||!e.keywords.includes(r))}).slice(0,t.payload.maxResults)});case"ADD_ITEM":return Object(ge.a)({},e,{sellItems:e.sellItems.concat(t.payload),origSellItems:e.origSellItems.concat(t.payload)});case"ADD_ITEMS":return Object(ge.a)({},e,{isLoading:!1,err:null,sellItems:t.payload,origSellItems:t.payload});case"ITEMS_LOADING":return Object(ge.a)({},e,{isLoading:!0,err:null,sellItems:[],origSellItems:[]});case"ITEMS_FAILED":return Object(ge.a)({},e,{isLoading:!1,err:t.payload,sellItems:[],origSellItems:[]});default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,username:"",userInfo:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(ge.a)({},e,{isLoggedIn:!0,username:t.username,userInfo:t.userInfo,error:null});case"LOG_OUT":return Object(ge.a)({},e,{isLoggedIn:!1,username:"",userInfo:[],error:null});case"ADD_ITEM_USER":return Object(ge.a)({},e,{userInfo:Object(ge.a)({},e.userInfo,{posts:e.userInfo.posts.concat(t.payload)})});case"SIGN_UP":return console.log("sign_up"),Object(ge.a)({},e,{isLoggedIn:!0,username:t.username,password:t.password});case"LOG_IN_FAILED":return Object(ge.a)({},e,{isLoggedIn:!1,username:"",userInfo:[],error:t.payload});default:return e}},ve=a(186),ye=a(187),Oe=a.n(ye),Ie={itemName:"",itemPrice:"",itemDes:"",pictures:"",agreeTerms:!1},je={username:"",password:""},we=Object(fe.createStore)(Object(fe.combineReducers)(Object(ge.a)({sellItems:Ee,users:be},Object(j.createForms)({newPost:Ie,login:je}))),Object(fe.applyMiddleware)(ve.a,Oe.a)),Ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(y.Provider,{store:we},r.a.createElement(he.a,{basename:"/BruinMart"},r.a.createElement("div",null,r.a.createElement(pe,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[189,2,1]]]);
//# sourceMappingURL=main.480eb300.chunk.js.map